Because the XBee modules uses significantly more time to send the more data it has to send an encoder were made. \ranote{should probably be said when defining the comm protocol}Also because it can not be assumed that every sensor station is identical, and therefore the data it sends will not be identical, the master needs to know the structure of each packet of sensor data it receives.
\\\\
The encoder is set up as a stream. It takes a number of bits and has an internal buffer where the bits are pushed onto. The buffer is 64 bytes big, because the XBee module used in the sensor stations can only send 64 byte packages. When the stream is to be used the it copies the buffer onto an input byte array, it is up to the caller to ensure the input array is at least large enough to contain the data. For our implementation it is always given a 64 byte array, and then when sending the data it is defined how much of the array is filled. 